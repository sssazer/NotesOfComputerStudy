# 汇编

汇编不是高级语言，是机器指令的助记符

**查看C语言对应的机器语言和汇编语言：**

右键解决方案 - 属性 - C/C++ - 输出文件 - 第二行 汇编程序输出 改为最后一个(程序集、机器码和原代码)。然后重新生成项目，打开文件位置，在debug文件夹里有一个.cod文件，用VScode打开。

**C语言文件转换过程**

1. C文件经过预处理之后变为i文件
2. i文件经过编译之后变为s文件(汇编文件，windows下为.cod文件)，里面是汇编语言
3. 汇编文件经过汇编变为目标文件(.obj)，里面是机器指令
4. 经过链接之后变为.exe文件

## 常用指令

### MOV指令

将第二个操作数(可以是寄存器的内容，内存中的内容或者常数值)复制到第一个操作数(可以指寄存器或内存)中。

不能直接从内存复制到内存

- `MOV <reg>,<reg>` 寄存器到寄存器
- `MOV <reg>,<mem>` 内存到寄存器
- `MOV <mem>,<reg>` 寄存器到内存
- `MOV <reg>,<con>` 常量到寄存器
- `MOV <mem>,<con>` 常量到内存

### push指令

将操作数压入内存中的栈

会保存栈顶指针ESP

栈中的数据固定为32位
- `push<reg32>` 
- `push<mem>`
- `push<con32>`

### pop指令

pop指令执行的是出栈工作

- `pop edi` 弹出栈顶元素送到edi寄存器中
- `pop [ebx]` 弹出栈顶元素送到ebx指示的内存地址中

### add/sub 指令



### inc/dec 指令

操作数自加/自减

### imul指令

乘法操作

### and/or/xor

逻辑与/逻辑或/逻辑异或操作

### not指令

位反转指令

***

## 汇编实战

所有的变量名在机器语言中都是不存在的

任何一个函数都是自己独立的栈空间，运行每个函数时都有自己的栈基指针

当声明变量的时候，实际上只是函数的栈顶指针ESP进行了移动
