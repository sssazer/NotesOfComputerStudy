# 1. IO流

Input/Output，Java程序中，对于数据的输入/输出操作以“流（Stream）”的方式进行

![](./4/1IO流.png)

Input：读取外部数据到内存中

Output：将程序中说的数据输出到磁盘中

| （这里列出的<br />都是抽象基类） |    字节流    | 字符流 |
| :------------------------------: | :----------: | :----: |
|              输入流              | InputStream  | Reader |
|              输出流              | OutputStream | Writer |

![](./4/1IO流中的类.png)

## 1.1 文件操作

### 1.1.1 创建文件对象

创建文件对象之后，调用`createNewFile()`方法即可创建文件

- 直接输入路径创建

```java
// 路径有两种写法
String filePath = "d:/CS_Source/test.txt";
String filePath = "d:\\CS_Source\\test.txt";
File file = new File(filePath); // 此时只是在内存中创建了文件对象

try {
    file.createNewFile(); // 这里才真正在硬盘创建文件
    sout("文件创建成功");
} catch (IOException e) {
    e.printStackTraec();
}
```

- 在父文件对象下创建

  假设要创建：`d:/CS_Source/test.txt`

```java
File parentFile = new File("d:\\CS_Source\\");
File file = new File(parentFile, "test.txt");

try {
    file.createNewFile();
}catch(IOException e){
    
}
```

- 根据父目录路径和子目录路径创建

```java
File file = new File("d:\\CS_Source\\", "test.txt");

try {
    file.createNewFile();
}catch(IOException e){
    
}
```

### 1.1.2 获取文件相关信息

`File file = new File("e:\\news1.txt");`

- 获取文件名 `file.getName()`
- 判断文件是否存在：`file.exists();`
- 文件绝对路径：`file.getAbsolutePath();`
- 文件父目录：`file.getParent();`
- 文件大小（字节）：`file.length();`
- 判断是否是一个文件：`file.isFile();`
- 判断是否是一个文件夹：`file.isDirectory();`

### 1.1.3 文件操作

在程序角度文件和文件夹是相同的

`File file = new File("e:\\news1.txt");`

`File dir = new File("e:\\newDir");`

**创建文件**

`file.createNewFile();`

**创建文件夹**

- 创建单级目录

  `dir.mkdir();`

- 创建多级目录

  ```java
  File dirs = new File("e:\\a\\b\\c");
  dirs.mkdirs();
  ```

**删除文件/文件夹**

`file.delete();`

`dir.delete();`

返回boolean值，表示是否删除成功

## 1.2 输入流

### 1.2.1 读取文件FileInputStream

1. 创建FileInputStream对象来读取文件

   ```java
   FileInputStream fileInputStream = new FileInputStream("filePath");
   ```

2. 使用read方法读取数据

   - 无参， 每次读入一个

   read方法每次读取单个字节，并且以int类型返回，如果读取到文件末尾则返回-1

   由于每次读取一个字节（8位），因此只能正确读取ascii字符

   ```java
   try{
       int readData = 0;
       while((readData = fileInputStream.read()) != -1)
           sout((char)readData);
   } catch (IOException e){
       e.printStackTrace();
   } finally {
       fileInputStream.close(); // 这里也有编译异常，可以抛出或者捕获
   }
   ```

   - 有参，一次性读入多个到字符数组中

     read是个阻塞函数，会一直不断读取

   ```java
   int readLen = 0;
   byte[] buf = new byte[100];
   while ((readLen = fileInputStream.read(buf)) != -1)
       sout(new String(buf, 0, readLen));
   ```

   

3. 关闭文件流，释放资源

## 1.3 输出流

### 1.3.1 写入文件FileOutputStream



